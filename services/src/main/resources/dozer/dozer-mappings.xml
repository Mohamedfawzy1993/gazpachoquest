<?xml version="1.0" encoding="UTF-8"?>
<mappings xmlns="http://dozer.sourceforge.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://dozer.sourceforge.net
          http://dozer.sourceforge.net/schema/beanmapping.xsd">

  <!-- LabelSet Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.dto.LabelSetDTO</class-a>
    <class-b>net.sf.gazpachosurvey.domain.core.LabelSet</class-b>
    <field>
      <a>name</a>
      <b>name</b>
    </field>
    <field>
      <a>language</a>
      <b>language</b>
    </field>
    <field>
      <a>labels</a>
      <b>labels</b>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.domain.core.LabelSet</class-a>
    <class-b>net.sf.gazpachosurvey.dto.LabelSetDTO</class-b>
    <field>
      <a>name</a>
      <b>name</b>
    </field>
    <field>
      <a>language</a>
      <b>language</b>
    </field>
    <field>
      <a>labels</a>
      <b>labels</b>
      <b-hint>net.sf.gazpachosurvey.dto.LabelDTO</b-hint>
    </field>
  </mapping>

  <mapping map-id="LabelSet.default">
    <class-a>net.sf.gazpachosurvey.domain.core.LabelSet</class-a>
    <class-b>net.sf.gazpachosurvey.dto.LabelSetDTO</class-b>
    <field>
      <a>name</a>
      <b>name</b>
    </field>
    <field>
      <a>language</a>
      <b>language</b>
    </field>
  </mapping>
  
  <!-- QuestionGroup Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.dto.QuestionGroupDTO</class-a>
    <class-b>net.sf.gazpachosurvey.domain.core.QuestionGroup</class-b>
    <field>
      <a>questions</a>
      <b set-method="addQuestion" type="iterate">questions</b>
      <b-hint>net.sf.gazpachosurvey.domain.core.Question</b-hint>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.domain.core.QuestionGroup</class-a>
    <class-b>net.sf.gazpachosurvey.dto.QuestionGroupDTO</class-b>
    <field>
      <a>questions</a>
      <b set-method="addQuestion" type="iterate">questions</b>
      <b-hint>net.sf.gazpachosurvey.dto.QuestionDTO</b-hint>
    </field>
  </mapping>


  <!-- Question Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.dto.QuestionDTO</class-a>
    <class-b>net.sf.gazpachosurvey.domain.core.Question</class-b>
    <field>
      <a>subquestions</a>
      <b set-method="addSubquestion" type="iterate">subquestions</b>
      <b-hint>net.sf.gazpachosurvey.domain.core.Question</b-hint>
    </field>
    <field>
      <a>questionOptions</a>
      <b set-method="addQuestionOption" type="iterate">questionOptions</b>
      <b-hint>net.sf.gazpachosurvey.domain.core.QuestionOption</b-hint>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.domain.core.Question</class-a>
    <class-b>net.sf.gazpachosurvey.dto.QuestionDTO</class-b>
    <field>
      <a>subquestions</a>
      <b set-method="addSubquestion" type="iterate">subquestions</b>
      <b-hint>net.sf.gazpachosurvey.dto.QuestionDTO</b-hint>
    </field>
    <field>
      <a>questionOptions</a>
      <b set-method="addQuestionOption" type="iterate">questionOptions</b>
      <b-hint>net.sf.gazpachosurvey.dto.QuestionOptionDTO</b-hint>
    </field>
  </mapping>
  <!-- QuestionnairDefinition Mappings -->

  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.dto.QuestionnairDefinitionDTO</class-a>
    <class-b>net.sf.gazpachosurvey.domain.core.QuestionnairDefinition</class-b>
    <field>
      <a>questionGroups</a>
      <b set-method="addQuestionGroup" type="iterate">questionGroups</b>
      <b-hint>net.sf.gazpachosurvey.domain.core.QuestionGroup</b-hint>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachosurvey.domain.core.QuestionnairDefinition</class-a>
    <class-b>net.sf.gazpachosurvey.dto.QuestionnairDefinitionDTO</class-b>
    <field-exclude type="one-way">
      <a>questionGroups</a>
      <b>questionGroups</b>
    </field-exclude>
  </mapping>

</mappings>