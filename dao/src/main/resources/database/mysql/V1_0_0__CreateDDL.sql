CREATE TABLE answers (id INTEGER AUTO_INCREMENT NOT NULL, code VARCHAR(255), language INTEGER NOT NULL, title VARCHAR(255) NOT NULL, QUESTION_ID INTEGER, order_in_question INTEGER, PRIMARY KEY (id));
CREATE TABLE pages (id INTEGER AUTO_INCREMENT NOT NULL, language VARCHAR(255) NOT NULL, title VARCHAR(255) NOT NULL, SURVEY_ID INTEGER, sort_order INTEGER, PRIMARY KEY (id));
CREATE TABLE participants (id INTEGER AUTO_INCREMENT NOT NULL, email VARCHAR(255), firstname VARCHAR(255), language VARCHAR(255), lastname VARCHAR(255), PRIMARY KEY (id));
CREATE TABLE questions (id INTEGER AUTO_INCREMENT NOT NULL, is_required TINYINT(1) default 0, language VARCHAR(255), title VARCHAR(255), type VARCHAR(255), PAGE_ID INTEGER, PARENT_ID INTEGER, SURVEY_ID INTEGER, order_in_subquestions INTEGER, order_in_survey INTEGER, PRIMARY KEY (id));
CREATE TABLE surveys (id INTEGER AUTO_INCREMENT NOT NULL, created_date DATETIME, language VARCHAR(255), last_modified_date DATETIME, DESCRIPTION LONGTEXT, TITLE VARCHAR(255), CREATEDBY_ID INTEGER, LASTMODIFIEDBY_ID INTEGER, PRIMARY KEY (id));
CREATE TABLE survey_instances (id INTEGER AUTO_INCREMENT NOT NULL, name VARCHAR(255), SURVEY_ID INTEGER, PRIMARY KEY (id));
CREATE TABLE answer_translations (id INTEGER AUTO_INCREMENT NOT NULL, language VARCHAR(255), text VARCHAR(255), ANSWER_ID INTEGER, PRIMARY KEY (id));
CREATE TABLE question_translations (id INTEGER AUTO_INCREMENT NOT NULL, language VARCHAR(255), text VARCHAR(255), QUESTION_ID INTEGER, PRIMARY KEY (id));
CREATE TABLE survey_translations (id INTEGER AUTO_INCREMENT NOT NULL, language VARCHAR(255), DESCRIPTION LONGTEXT, TITLE VARCHAR(255), SURVEY_ID INTEGER, PRIMARY KEY (id));
CREATE TABLE users (id INTEGER AUTO_INCREMENT NOT NULL, created_date DATETIME, email VARCHAR(255) NOT NULL UNIQUE, first_name VARCHAR(255) NOT NULL, last_modified_date DATETIME, last_name VARCHAR(255) NOT NULL, CREATEDBY_ID INTEGER, LASTMODIFIEDBY_ID INTEGER, PRIMARY KEY (id));
CREATE TABLE surveyinstance_PARTICIPANT (participants_ID INTEGER NOT NULL, surveyinstance_id INTEGER NOT NULL, PRIMARY KEY (participants_ID, surveyinstance_id));
ALTER TABLE answers ADD CONSTRAINT FK_answers_QUESTION_ID FOREIGN KEY (QUESTION_ID) REFERENCES questions (id);
ALTER TABLE pages ADD CONSTRAINT FK_pages_SURVEY_ID FOREIGN KEY (SURVEY_ID) REFERENCES surveys (id);
ALTER TABLE questions ADD CONSTRAINT FK_questions_SURVEY_ID FOREIGN KEY (SURVEY_ID) REFERENCES surveys (id);
ALTER TABLE questions ADD CONSTRAINT FK_questions_PARENT_ID FOREIGN KEY (PARENT_ID) REFERENCES questions (id);
ALTER TABLE questions ADD CONSTRAINT FK_questions_PAGE_ID FOREIGN KEY (PAGE_ID) REFERENCES pages (id);
ALTER TABLE surveys ADD CONSTRAINT FK_surveys_LASTMODIFIEDBY_ID FOREIGN KEY (LASTMODIFIEDBY_ID) REFERENCES users (id);
ALTER TABLE surveys ADD CONSTRAINT FK_surveys_CREATEDBY_ID FOREIGN KEY (CREATEDBY_ID) REFERENCES users (id);
ALTER TABLE survey_instances ADD CONSTRAINT FK_survey_instances_SURVEY_ID FOREIGN KEY (SURVEY_ID) REFERENCES surveys (id);
ALTER TABLE answer_translations ADD CONSTRAINT FK_answer_translations_ANSWER_ID FOREIGN KEY (ANSWER_ID) REFERENCES answers (id);
ALTER TABLE question_translations ADD CONSTRAINT FK_question_translations_QUESTION_ID FOREIGN KEY (QUESTION_ID) REFERENCES questions (id);
ALTER TABLE survey_translations ADD CONSTRAINT FK_survey_translations_SURVEY_ID FOREIGN KEY (SURVEY_ID) REFERENCES surveys (id);
ALTER TABLE users ADD CONSTRAINT FK_users_CREATEDBY_ID FOREIGN KEY (CREATEDBY_ID) REFERENCES users (id);
ALTER TABLE users ADD CONSTRAINT FK_users_LASTMODIFIEDBY_ID FOREIGN KEY (LASTMODIFIEDBY_ID) REFERENCES users (id);
ALTER TABLE surveyinstance_PARTICIPANT ADD CONSTRAINT FK_surveyinstance_PARTICIPANT_participants_ID FOREIGN KEY (participants_ID) REFERENCES participants (id);
ALTER TABLE surveyinstance_PARTICIPANT ADD CONSTRAINT FK_surveyinstance_PARTICIPANT_surveyinstance_id FOREIGN KEY (surveyinstance_id) REFERENCES survey_instances (id);
