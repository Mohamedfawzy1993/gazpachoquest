<?xml version="1.0" encoding="UTF-8"?>
<mappings xmlns="http://dozer.sourceforge.net" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://dozer.sourceforge.net
          http://dozer.sourceforge.net/schema/beanmapping.xsd">

  <!-- LabelSet Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.dto.LabelSetDTO</class-a>
    <class-b>net.sf.gazpachoquest.domain.core.LabelSet</class-b>
    <field>
      <a>name</a>
      <b>name</b>
    </field>
    <field>
      <a>language</a>
      <b>language</b>
    </field>
    <field>
      <a>labels</a>
      <b>labels</b>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.domain.core.LabelSet</class-a>
    <class-b>net.sf.gazpachoquest.dto.LabelSetDTO</class-b>
    <field>
      <a>name</a>
      <b>name</b>
    </field>
    <field>
      <a>language</a>
      <b>language</b>
    </field>
    <field>
      <a>labels</a>
      <b>labels</b>
      <b-hint>net.sf.gazpachoquest.dto.LabelDTO</b-hint>
    </field>
  </mapping>

  <mapping map-id="LabelSet.default">
    <class-a>net.sf.gazpachoquest.domain.core.LabelSet</class-a>
    <class-b>net.sf.gazpachoquest.dto.LabelSetDTO</class-b>
    <field>
      <a>name</a>
      <b>name</b>
    </field>
    <field>
      <a>language</a>
      <b>language</b>
    </field>
  </mapping>
  
   <!-- User Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.dto.UserDTO</class-a>
    <class-b>net.sf.gazpachoquest.domain.user.User</class-b>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.domain.user.User</class-a>
    <class-b>net.sf.gazpachoquest.dto.UserDTO</class-b>

    <field>
      <a>lastModifiedBy</a>
      <b>lastModifiedBy</b>
      <b-hint>net.sf.gazpachoquest.dto.AuditorDTO</b-hint>
    </field>

    <field>
      <a>createdBy</a>
      <b>createdBy</b>
      <b-hint>net.sf.gazpachoquest.dto.AuditorDTO</b-hint>
    </field>
  </mapping>
  
  <!-- QuestionGroup Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.dto.QuestionGroupDTO</class-a>
    <class-b>net.sf.gazpachoquest.domain.core.QuestionGroup</class-b>
    <field>
      <a get-method="isRandomizationEnabled">randomizationEnabled</a>
      <b>randomizationEnabled</b>
    </field>
    <field>
      <a>questions</a>
      <b set-method="addQuestion" type="iterate">questions</b>
      <b-hint>net.sf.gazpachoquest.domain.core.Question</b-hint>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.domain.core.QuestionGroup</class-a>
    <class-b>net.sf.gazpachoquest.dto.QuestionGroupDTO</class-b>
    <field>
      <a get-method="isRandomizationEnabled">randomizationEnabled</a>
      <b>randomizationEnabled</b>
    </field>
    <field>
      <a>questions</a>
      <b set-method="addQuestion" type="iterate">questions</b>
      <b-hint>net.sf.gazpachoquest.dto.QuestionDTO</b-hint>
    </field>
  </mapping>


  <!-- Question Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.dto.QuestionDTO</class-a>
    <class-b>net.sf.gazpachoquest.domain.core.Question</class-b>
    <field>
      <a>subquestions</a>
      <b set-method="addSubquestion" type="iterate">subquestions</b>
      <b-hint>net.sf.gazpachoquest.domain.core.Question</b-hint>
    </field>
    <field>
      <a>questionOptions</a>
      <b set-method="addQuestionOption" type="iterate">questionOptions</b>
      <b-hint>net.sf.gazpachoquest.domain.core.QuestionOption</b-hint>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.domain.core.Question</class-a>
    <class-b>net.sf.gazpachoquest.dto.QuestionDTO</class-b>
    <field>
      <a>subquestions</a>
      <b set-method="addSubquestion" type="iterate">subquestions</b>
      <b-hint>net.sf.gazpachoquest.dto.SubquestionDTO</b-hint>
    </field>
    <field>
      <a>questionOptions</a>
      <b set-method="addQuestionOption" type="iterate">questionOptions</b>
      <b-hint>net.sf.gazpachoquest.dto.QuestionOptionDTO</b-hint>
    </field>
  </mapping>

  <!-- QuestionnaireDefinition Mappings -->
  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.dto.QuestionnaireDefinitionDTO</class-a>
    <class-b>net.sf.gazpachoquest.domain.core.QuestionnaireDefinition</class-b>
    <field>
      <a>questionGroups</a>
      <b set-method="addQuestionGroup" type="iterate">questionGroups</b>
      <b-hint>net.sf.gazpachoquest.domain.core.QuestionGroup</b-hint>
    </field>
    <field>
      <a>questionsPerPage</a>
      <b>questionsPerPage</b>
    </field>
    <field>
      <a>renderingMode</a>
      <b>renderingMode</b>
    </field>
    <field>
      <a>randomizationStrategy</a>
      <b>randomizationStrategy</b>
    </field>
    <field>
      <a get-method="isWelcomeVisible" is-accessible="true">welcomeVisible</a>
      <b>welcomeVisible</b>
    </field>
    <field>
      <a get-method="isProgressVisible" is-accessible="true">progressVisible</a>
      <b>progressVisible</b>
    </field>
    <field>
      <a get-method="isQuestionGroupInfoVisible" is-accessible="true">questionGroupInfoVisible</a>
      <b>questionGroupInfoVisible</b>
    </field>
  </mapping>

  <mapping type="one-way">
    <class-a>net.sf.gazpachoquest.domain.core.QuestionnaireDefinition</class-a>
    <class-b>net.sf.gazpachoquest.dto.QuestionnaireDefinitionDTO</class-b>
    <field-exclude type="one-way">
      <a>questionGroups</a>
      <b>questionGroups</b>
    </field-exclude>
    <field>
      <a>questionsPerPage</a>
      <b>questionsPerPage</b>
    </field>
    <field>
      <a>renderingMode</a>
      <b>renderingMode</b>
    </field>
    <field>
      <a>randomizationStrategy</a>
      <b>randomizationStrategy</b>
    </field>
    <field>
      <a get-method="isWelcomeVisible" is-accessible="true">welcomeVisible</a>
      <b>welcomeVisible</b>
    </field>
    <field>
      <a get-method="isProgressVisible" is-accessible="true">progressVisible</a>
      <b>progressVisible</b>
    </field>
    <field>
      <a get-method="isQuestionGroupInfoVisible" is-accessible="true">questionGroupInfoVisible</a>
      <b>questionGroupInfoVisible</b>
    </field>
  </mapping>

  <mapping type="one-way" map-id="toDTOwithQuestionGroups">
    <class-a>net.sf.gazpachoquest.domain.core.QuestionnaireDefinition</class-a>
    <class-b>net.sf.gazpachoquest.dto.QuestionnaireDefinitionDTO</class-b>
    <field>
      <a>questionGroups</a>
      <b set-method="addQuestionGroup" type="iterate">questionGroups</b>
      <b-hint>net.sf.gazpachoquest.dto.QuestionGroupDTO</b-hint>
    </field>
    <field>
      <a>questionsPerPage</a>
      <b>questionsPerPage</b>
    </field>
    <field>
      <a>renderingMode</a>
      <b>renderingMode</b>
    </field>
    <field>
      <a>randomizationStrategy</a>
      <b>randomizationStrategy</b>
    </field>
    <field>
      <a get-method="isWelcomeVisible" is-accessible="true">welcomeVisible</a>
      <b>welcomeVisible</b>
    </field>
    <field>
      <a get-method="isProgressVisible" is-accessible="true">progressVisible</a>
      <b>progressVisible</b>
    </field>
    <field>
      <a get-method="isQuestionGroupInfoVisible" is-accessible="true">questionGroupInfoVisible</a>
      <b>questionGroupInfoVisible</b>
    </field>
  </mapping>

</mappings>